"use strict";angular.module("template/flyout/flyout.html",[]).run(["$templateCache",function(e){e.put("template/flyout/flyout.html",'<div class="flyout-navigation"ng-class="{\'reveal\': flyoutCtrl.isVisible()}"ng-mouseleave="flyoutCtrl.mouseleaveMenu();"><ul class="flyout-dropdown list-unstyled"role="menu"ng-transclude></ul></div>')}]),angular.module("template/flyout/flyout-item.html",[]).run(["$templateCache",function(e){e.put("template/flyout/flyout-item.html",'<li class="flyout-list-item" ng-transclude></li>')}]),angular.module("template/flyout/flyout-popover.html",[]).run(["$templateCache",function(e){e.put("template/flyout/flyout-popover.html",'<div class="{{ getSelector() }}"ng-class="{\'reveal\': getActiveRow() === $index}"ng-transclude></div>')}]),angular.module("template/flyout/flyout-link.html",[]).run(["$templateCache",function(e){e.put("template/flyout/flyout-link.html",'<a href="" ng-mouseenter="mouseenterRow($index)" ng-mouseleave="mouseleaveRow($index)" ng-click="clickRow($index);" ng-transclude></a>')}]),angular.module("neilff.flyout-tpls",["ng","template/flyout/flyout.html","template/flyout/flyout-item.html","template/flyout/flyout-popover.html","template/flyout/flyout-link.html"]).factory("flyoutPopover",[function(){return function(e,t,n,o){var u=o[0];angular.extend(e,{getActiveRow:u.getActiveRow,getSelector:u.getSelector})}}]).factory("flyoutLink",[function(){return function(e,t,n,o){var u=o[0];angular.extend(e,{mouseenterRow:u.mouseenterRow,mouseleaveRow:u.mouseleaveRow,clickRow:u.clickRow})}}]).factory("menuAim",[function(){function e(e,t,n){function u(e,t){return(t.y-e.y)/(t.x-e.x)}var l=null;if(!e)return 0;var i=t.offset(),r={x:i.left,y:i.top-n.tolerance},c={x:i.left+t.outerWidth(),y:r.y},a={x:i.left,y:i.top+t.outerHeight()+n.tolerance},f={x:i.left+t.outerWidth(),y:a.y},s=o[o.length-1],m=o[0];if(!s)return 0;if(m||(m=s),m.x<i.left||m.x>f.x||m.y<i.top||m.y>f.y)return 0;if(l&&s.x===l.x&&s.y===l.y)return 0;var v=c,y=f;"left"===n.submenuDirection?(v=a,y=r):"below"===n.submenuDirection?(v=f,y=a):"above"===n.submenuDirection&&(v=r,y=c);var p=u(s,v),d=u(s,y),g=u(m,v),x=u(m,y);return p<g&&d>x?(l=s,n.delay):(l=null,0)}function t(e){o.push({x:e.pageX,y:e.pageY}),o.length>u&&o.shift()}function n(){return o}var o=[],u=3;return{activationDelay:e,setMouseLocs:t,getMouseLocs:n}}]).directive("flyoutItem",[function(){return{restrict:"E",transclude:!0,replace:!0,scope:!0,templateUrl:"template/flyout/flyout-item.html"}}]).directive("flyoutLink",["flyoutLink",function(e){return{restrict:"E",transclude:!0,replace:!0,require:["^flyoutNavigation"],scope:!0,templateUrl:"template/flyout/flyout-link.html",link:e}}]).directive("flyoutPopover",["flyoutPopover",function(e){return{restrict:"E",transclude:!0,replace:!0,require:["^flyoutNavigation"],scope:!0,templateUrl:"template/flyout/flyout-popover.html",link:e}}]).directive("flyoutNavigation",[function(){return{restrict:"E",scope:{visible:"=",tolerance:"=",delay:"=",direction:"=",enter:"=",exit:"=",activate:"=",deactivate:"=",exitmenu:"=exitmenu",selector:"@"},transclude:!0,replace:!0,templateUrl:"template/flyout/flyout.html",controllerAs:"flyoutCtrl",controller:"FlyoutController"}}]).controller("FlyoutController",["$element","$scope","menuAim",function(e,t,n){function o(){D=!0,L.find("."+t.selector).css("min-height",L.outerHeight())}function u(){M&&clearTimeout(M),C.exitmenu(this)&&(k.activeRow&&C.deactivate(k.activeRow),k.activeRow=null)}function l(e){M&&clearTimeout(M),C.enter(e),s(e)}function i(e){C.exit(e)}function r(e){f(e)}function c(){t.visible=!1}function a(){t.visible=!0}function f(e){e!==k.activeRow&&(k.activeRow&&C.deactivate(k.activeRow),C.activate(e),k.activeRow=e)}function s(e){var t=n.activationDelay(k.activeRow,A,C);t?M=setTimeout(function(){s(e)},t):f(e)}function m(){return k.activeRow}function v(){return t.selector}function y(){return t.delay||1e3}function p(){return t.tolerance||500}function d(){return t.direction||"right"}function g(){return t.enter||function(){D||o()}}function x(){return t.exit||angular.noop}function h(){return t.activate||function(){D||o()}}function w(){return t.exitmenu||function(){return c(),!0}}function R(){return t.deactivate||angular.noop}function b(){return t.visible||!1}t.selector=t.selector||"popover";var k=this,L=e,A=L.find(".flyout-dropdown");!function(){document.addEventListener("mousemove",n.setMouseLocs),angular.extend(k,{mouseleaveMenu:u,mouseenterRow:l,mouseleaveRow:i,clickRow:r,closeMenu:c,openMenu:a,getActiveRow:m,getSelector:v,isVisible:b})}();var M=null,C={submenuDirection:d(),tolerance:p(),delay:y(),enter:g(),exit:x(),activate:h(),deactivate:R(),exitmenu:w()},D=!1}]),angular.module("neilff.flyout",["ng"]).factory("flyoutPopover",[function(){return function(e,t,n,o){var u=o[0];angular.extend(e,{getActiveRow:u.getActiveRow,getSelector:u.getSelector})}}]).factory("flyoutLink",[function(){return function(e,t,n,o){var u=o[0];angular.extend(e,{mouseenterRow:u.mouseenterRow,mouseleaveRow:u.mouseleaveRow,clickRow:u.clickRow})}}]).factory("menuAim",[function(){function e(e,t,n){function u(e,t){return(t.y-e.y)/(t.x-e.x)}var l=null;if(!e)return 0;var i=t.offset(),r={x:i.left,y:i.top-n.tolerance},c={x:i.left+t.outerWidth(),y:r.y},a={x:i.left,y:i.top+t.outerHeight()+n.tolerance},f={x:i.left+t.outerWidth(),y:a.y},s=o[o.length-1],m=o[0];if(!s)return 0;if(m||(m=s),m.x<i.left||m.x>f.x||m.y<i.top||m.y>f.y)return 0;if(l&&s.x===l.x&&s.y===l.y)return 0;var v=c,y=f;"left"===n.submenuDirection?(v=a,y=r):"below"===n.submenuDirection?(v=f,y=a):"above"===n.submenuDirection&&(v=r,y=c);var p=u(s,v),d=u(s,y),g=u(m,v),x=u(m,y);return p<g&&d>x?(l=s,n.delay):(l=null,0)}function t(e){o.push({x:e.pageX,y:e.pageY}),o.length>u&&o.shift()}function n(){return o}var o=[],u=3;return{activationDelay:e,setMouseLocs:t,getMouseLocs:n}}]).directive("flyoutItem",[function(){return{restrict:"E",transclude:!0,replace:!0,scope:!0,templateUrl:"template/flyout/flyout-item.html"}}]).directive("flyoutLink",["flyoutLink",function(e){return{restrict:"E",transclude:!0,replace:!0,require:["^flyoutNavigation"],scope:!0,templateUrl:"template/flyout/flyout-link.html",link:e}}]).directive("flyoutPopover",["flyoutPopover",function(e){return{restrict:"E",transclude:!0,replace:!0,require:["^flyoutNavigation"],scope:!0,templateUrl:"template/flyout/flyout-popover.html",link:e}}]).directive("flyoutNavigation",[function(){return{restrict:"E",scope:{visible:"=",tolerance:"=",delay:"=",direction:"=",enter:"=",exit:"=",activate:"=",deactivate:"=",exitmenu:"=exitmenu",selector:"@"},transclude:!0,replace:!0,templateUrl:"template/flyout/flyout.html",controllerAs:"flyoutCtrl",controller:"FlyoutController"}}]).controller("FlyoutController",["$element","$scope","menuAim",function(e,t,n){function o(){D=!0,L.find("."+t.selector).css("min-height",L.outerHeight())}function u(){M&&clearTimeout(M),C.exitmenu(this)&&(k.activeRow&&C.deactivate(k.activeRow),k.activeRow=null)}function l(e){M&&clearTimeout(M),C.enter(e),s(e)}function i(e){C.exit(e)}function r(e){f(e)}function c(){t.visible=!1}function a(){t.visible=!0}function f(e){e!==k.activeRow&&(k.activeRow&&C.deactivate(k.activeRow),C.activate(e),k.activeRow=e)}function s(e){var t=n.activationDelay(k.activeRow,A,C);t?M=setTimeout(function(){s(e)},t):f(e)}function m(){return k.activeRow}function v(){return t.selector}function y(){return t.delay||1e3}function p(){return t.tolerance||500}function d(){return t.direction||"right"}function g(){return t.enter||function(){D||o()}}function x(){return t.exit||angular.noop}function h(){return t.activate||function(){D||o()}}function w(){return t.exitmenu||function(){return c(),!0}}function R(){return t.deactivate||angular.noop}function b(){return t.visible||!1}t.selector=t.selector||"popover";var k=this,L=e,A=L.find(".flyout-dropdown");!function(){document.addEventListener("mousemove",n.setMouseLocs),angular.extend(k,{mouseleaveMenu:u,mouseenterRow:l,mouseleaveRow:i,clickRow:r,closeMenu:c,openMenu:a,getActiveRow:m,getSelector:v,isVisible:b})}();var M=null,C={submenuDirection:d(),tolerance:p(),delay:y(),enter:g(),exit:x(),activate:h(),deactivate:R(),exitmenu:w()},D=!1}]);